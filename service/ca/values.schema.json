{
  "$schema": "http://json-schema.org/schema#",
  "type": "object",
  "properties": {
    "certificates": {
      "type": "array",
      "description": "List of certificates to be managed by cert-manager",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the certificate resource"
          },
          "duration": {
            "type": "string",
            "description": "Validity duration of the certificate"
          },
          "renewal": {
            "type": "string",
            "description": "Time before expiration to renew the certificate"
          },
          "dns": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "Common name (CN) for the certificate"
              },
              "aliases": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Additional DNS names (aliases)"
              },
              "addresses": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "IP addresses for the certificate"
              },
              "usages": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": [
                    "digital signature",
                    "key encipherment",
                    "server auth",
                    "client auth",
                    "key agreement",
                    "content commitment"
                  ]
                },
                "description": "Key usages for the certificate"
              }
            }
          },
          "issuerRef": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "Name of the issuer or ClusterIssuer"
              },
              "kind": {
                "type": "string",
                "enum": ["Issuer", "ClusterIssuer"],
                "description": "Kind of the issuer"
              }
            },
            "required": ["name", "kind"]
          }
        },
        "required": ["name"]
      }
    },
    "issuers": {
      "type": "array",
      "description": "List of issuers to configure for cert-manager",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the issuer"
          },
          "clustered": {
            "type": "boolean",
            "description": "Whether this is a ClusterIssuer"
          },
          "selfSigned": {
            "type": "boolean",
            "description": "Whether this issuer is self-signed"
          },
          "certManagerNamespace": {
            "type": "string",
            "description": "Namespace where cert-manager is deployed"
          },
          "type": {
            "type": "string",
            "enum": ["ca", "acme", "selfsigned"],
            "description": "Type of the issuer"
          },
          "secret": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "Name of the secret"
              },
              "create": {
                "type": "boolean",
                "description": "Whether to create the secret"
              },
              "ca": {
                "type": "object",
                "properties": {
                  "crt": {
                    "type": ["string", "null"],
                    "description": "CA certificate"
                  },
                  "key": {
                    "type": ["string", "null"],
                    "description": "CA private key"
                  }
                }
              },
              "tsig": {
                "type": ["string", "null"],
                "description": "TSIG credentials"
              },
              "token": {
                "type": ["string", "null"],
                "description": "Token for authentication"
              }
            }
          },
          "acme": {
            "type": "object",
            "properties": {
              "email": {
                "type": "string",
                "format": "email",
                "description": "Email address for ACME registration"
              },
              "server": {
                "type": "string",
                "format": "uri",
                "description": "ACME server URL"
              },
              "provider": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["rfc2136", "webhook"],
                    "description": "DNS provider type"
                  },
                  "rfc2136": {
                    "type": "object",
                    "properties": {
                      "nameserver": {
                        "type": "string",
                        "description": "DNS server address"
                      },
                      "tsig": {
                        "type": "object",
                        "properties": {
                          "algo": {
                            "type": "string",
                            "description": "TSIG algorithm"
                          },
                          "keyName": {
                            "type": "string",
                            "description": "TSIG key name"
                          },
                          "secretKey": {
                            "type": "string",
                            "description": "TSIG secret key"
                          }
                        }
                      }
                    }
                  },
                  "webhook": {
                    "type": "object",
                    "properties": {
                      "group": {
                        "type": "string",
                        "description": "Webhook group name"
                      },
                      "solver": {
                        "type": "string",
                        "description": "Webhook solver type"
                      },
                      "config": {
                        "type": "object",
                        "properties": {
                          "host": {
                            "type": "string",
                            "description": "Webhook server host"
                          },
                          "secretKey": {
                            "type": "string",
                            "description": "Webhook secret key"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "required": ["name"]
      }
    },
    "cert-manager": {
      "type": "object",
      "description": "Configuration for cert-manager",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enable or disable cert-manager"
        },
        "enableCertificateOwnerRef": {
          "type": "boolean",
          "description": "Enable Certificate Owner Reference feature"
        },
        "crds": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Enable CRD installation"
            }
          }
        },
        "config": {
          "type": "object",
          "properties": {
            "apiVersion": {
              "type": "string",
              "description": "API version for controller configuration"
            },
            "kind": {
              "type": "string",
              "description": "Kind of the configuration"
            },
            "enableGatewayAPI": {
              "type": "boolean",
              "description": "Enable Gateway API support"
            }
          }
        }
      }
    },
    "trust-manager": {
      "type": "object",
      "description": "Configuration for trust-manager",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Enable or disable trust-manager"
        }
      }
    }
  }
}
